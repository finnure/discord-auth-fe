<mat-card>
  <mat-card-title>Login</mat-card-title>
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="submit()">
      <div *ngIf="!userFound">
        <span>Please tell me who you are</span>
        <p>
          <mat-form-field>
            <input
              #username
              type="text"
              autofocus
              matInput
              placeholder="Your name"
              formControlName="username"
              name="username"
              id="username"
            />
          </mat-form-field>
        </p>
      </div>
      <div *ngIf="userFound">
        <span>Nice to meet you {{ username }}</span>
        <p>
          <mat-form-field>
            <input
              #password
              type="password"
              matInput
              placeholder="Password"
              formControlName="password"
              name="password"
              id="password"
            />
          </mat-form-field>
        </p>
      </div>
      <p *ngIf="error === 400" class="loginError">Incorrect input</p>
      <p *ngIf="error === 401" class="loginError">Unauthorized</p>
      <p *ngIf="error === 403" class="loginError">
        Wrong password, please try again
      </p>
      <p *ngIf="error === 404" class="loginError">
        Sorry, I don't know who you are
      </p>
      <p *ngIf="error === 500" class="loginError">
        I messed something up, please try again later
      </p>
      <p class="loginButtons">
        <button type="submit" mat-raised-button>Submit</button>
      </p>
    </form>
  </mat-card-content>
</mat-card>
